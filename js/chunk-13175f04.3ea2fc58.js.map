{"version":3,"sources":["webpack:///./src/components/InstallStep.vue?458d","webpack:///./src/components/InstallStep.vue?2a5e","webpack:///src/components/InstallStep.vue","webpack:///./src/components/InstallStep.vue?e4f1","webpack:///./src/components/InstallStep.vue?e32f","webpack:///./src/core/devices.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$root","$data","release","_v","_s","OS_NAME","version","getDeviceName","product","installType","installed","installProgress","on","install","_e","installStatus","error","installing","$event","$bubble","staticRenderFns","component","VBanner","VBtn","VContainer","VIcon","VProgressLinear","DEVICE_NAMES","U50A_ATT","U50A_PLUS_ATT","U50A_PLUS_TF","simba6_cricket","idol4","FERMI_TF","device"],"mappings":"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","file":"js/chunk-13175f04.3ea2fc58.js","sourcesContent":["export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallStep.vue?vue&type=style&index=0&id=3b5b169d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"d-flex justify-space-between flex-column flex-grow-1\",attrs:{\"id\":\"install-step\"}},[(_vm.$root.$data.release !== null)?_c('div',{staticClass:\"mt-n4 flex-grow-1\"},[_c('h6',{staticClass:\"text-h6 pb-4\"},[_vm._v(\" Install \"+_vm._s(_vm.$root.$data.OS_NAME)+\" \")]),_c('div',{staticClass:\"text-body-1\"},[_c('p',[_vm._v(\" This will install \"+_vm._s(_vm.$root.$data.OS_NAME)+\" \"+_vm._s(_vm.$root.$data.release.version)+\" on your \"+_vm._s(_vm.getDeviceName(_vm.$root.$data.product))+\". \")]),(_vm.$root.$data.installType === 'clean')?_c('p',[_vm._v(\" Because you’re doing a clean install to switch from another OS, \"),_c('strong',{staticClass:\"red--text text--darken-3\"},[_vm._v(\" all data on your device will be permanently lost. \")])]):_c('p',[_c('strong',[_vm._v(\" Don’t touch, unplug, or press any buttons \")]),_vm._v(\" on your device during the install. \")]),_c('p',[_vm._v(\" Your phone will restart several times, but \"),_c('strong',[_vm._v(\" don’t touch it. \")]),_vm._v(\" Watch the progress bar on this page instead. \")])]),_c('v-btn',{attrs:{\"color\":_vm.installed ? null : 'primary',\"disabled\":_vm.installProgress != null},on:{\"click\":_vm.install}},[_vm._v(\" Install \")])],1):_vm._e(),_c('div',{staticClass:\"pb-8\"},[(_vm.installed)?_c('v-banner',{attrs:{\"single-line\":\"\",\"rounded\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"green darken-3\"}},[_vm._v(\" mdi-check \")]),_c('div',{staticClass:\"mt-4\"},[_c('span',{staticClass:\"text-body-1 green--text text--darken-3\"},[_vm._v(\" Installed \"+_vm._s(_vm.$root.$data.OS_NAME)+\" \"+_vm._s(_vm.$root.$data.release.version)+\" \")])])],1):(_vm.installProgress !== null)?_c('v-banner',{staticClass:\"mt-8 pt-1\",attrs:{\"single-line\":\"\",\"rounded\":\"\"}},[_c('span',{staticClass:\"text-body-1\"},[_vm._v(\" \"+_vm._s(_vm.installStatus)+\" \")]),_c('v-progress-linear',{staticClass:\"my-3\",attrs:{\"buffer-value\":\"0\",\"value\":_vm.installProgress,\"stream\":\"\"}})],1):(_vm.error)?_c('v-banner',{staticClass:\"mt-8\",attrs:{\"single-line\":\"\",\"rounded\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"red darken-3\"}},[_vm._v(\" mdi-close \")]),_c('div',{staticClass:\"mt-4\"},[_c('span',{staticClass:\"text-body-1 red--text text--darken-3\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")])])],1):_vm._e()],1),_c('div',{staticClass:\"d-flex justify-space-between flex-row-reverse\"},[_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":_vm.installing || !_vm.installed},on:{\"click\":function($event){return _vm.$bubble('nextStep')}}},[_vm._v(\" Next \"),_c('v-icon',{attrs:{\"dark\":\"\",\"right\":\"\"}},[_vm._v(\" mdi-arrow-right \")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_vm.installing},on:{\"click\":function($event){return _vm.$bubble('prevStep')}}},[_vm._v(\" Back \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    id=\"install-step\"\n    class=\"d-flex justify-space-between flex-column flex-grow-1\"\n  >\n    <div\n      v-if=\"$root.$data.release !== null\"\n      class=\"mt-n4 flex-grow-1\"\n    >\n      <h6\n        class=\"text-h6 pb-4\"\n      >\n        Install {{ $root.$data.OS_NAME }}\n      </h6>\n      <div\n        class=\"text-body-1\"\n      >\n        <p>\n          This will install {{ $root.$data.OS_NAME }}\n          {{ $root.$data.release.version }}\n          on your\n          {{ getDeviceName($root.$data.product) }}.\n        </p>\n        <p\n          v-if=\"$root.$data.installType === 'clean'\"\n        >\n          Because you’re doing a clean install to switch from another OS,\n          <strong\n            class=\"red--text text--darken-3\"\n          >\n            all data on your device will be permanently lost.\n          </strong>\n        </p>\n        <p\n          v-else\n        >\n          <strong>\n            Don’t touch, unplug, or press any buttons\n          </strong>\n          on your device during the install.\n        </p>\n        <p>\n          Your phone will restart several times, but\n          <strong>\n            don’t touch it.\n          </strong>\n          Watch the progress bar on this page\n          instead.\n        </p>\n      </div>\n      <v-btn\n        :color=\"installed ? null : 'primary'\"\n        :disabled=\"installProgress != null\"\n        @click=\"install\"\n      >\n        Install\n      </v-btn>\n    </div>\n\n    <div\n      class=\"pb-8\"\n    >\n      <v-banner\n        v-if=\"installed\"\n        single-line\n        rounded\n      >\n        <v-icon\n          color=\"green darken-3\"\n        >\n          mdi-check\n        </v-icon>\n        <div\n          class=\"mt-4\"\n        >\n          <span\n            class=\"text-body-1 green--text text--darken-3\"\n          >\n            Installed {{ $root.$data.OS_NAME }}\n            {{ $root.$data.release.version }}\n          </span>\n        </div>\n      </v-banner>\n      <v-banner\n        v-else-if=\"installProgress !== null\"\n        single-line\n        rounded\n        class=\"mt-8 pt-1\"\n      >\n        <span\n          class=\"text-body-1\"\n        >\n          {{ installStatus }}\n        </span>\n        <v-progress-linear\n          class=\"my-3\"\n          buffer-value=\"0\"\n          :value=\"installProgress\"\n          stream\n        />\n      </v-banner>\n      <v-banner\n        v-else-if=\"error\"\n        single-line\n        rounded\n        class=\"mt-8\"\n      >\n        <v-icon\n          color=\"red darken-3\"\n        >\n          mdi-close\n        </v-icon>\n        <div\n          class=\"mt-4\"\n        >\n          <span\n            class=\"text-body-1 red--text text--darken-3\"\n          >\n            {{ error }}\n          </span>\n        </div>\n      </v-banner>\n    </div>\n    <div\n      class=\"d-flex justify-space-between flex-row-reverse\"\n    >\n      <v-btn\n        color=\"primary\"\n        :disabled=\"installing || !installed\"\n        @click=\"$bubble('nextStep')\"\n      >\n        Next\n        <v-icon\n          dark\n          right\n        >\n          mdi-arrow-right\n        </v-icon>\n      </v-btn>\n      <v-btn\n        text\n        :disabled=\"installing\"\n        @click=\"$bubble('prevStep')\"\n      >\n        Back\n      </v-btn>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport * as common from '../core/common.js'\nimport * as fastboot from 'android-fastboot'\nimport { getDeviceName } from '../core/devices.js'\n\nVue.use(fastboot)\nVue.use(common)\n\nexport default {\n    name: 'InstallStep',\n    // eslint-disable-next-line\n    props: ['device', 'blobStore', 'active'],\n    data: () => ({\n        installProgress: null,\n        installStatus: '',\n        installed: false,\n        installing: false,\n        firstInstall: true,\n        error: null,\n        memoryDialog: false,\n    }),\n    watch: {\n        active: async function(newState) {\n            if (newState) {\n                this.saEvent('step_install');\n            }\n        },\n    },\n    methods: {\n        getDeviceName,\n        reconnectCallback() {\n            this.$bubble('requestDeviceReconnect');\n        },\n        async retryMemory() {\n            this.memoryDialog = false;\n            await this.install();\n        },\n        async errorRetry() {\n          await this.install();\n        },\n        async install() {\n          this.installed = false\n          this.installing = true\n          try {\n            if (!this.device.isConnected) {\n              await this.device.connect();\n            }\n            this.saEvent(\n              `install_build__${this.$root.$data.product}_${this.$root.$data.release.version}_${this.$root.$data.release.variant}`\n            )\n            let blob = (this.blob)\n            let partition = (this.$root.$data.release.partition)\n            let onProgress = 'this.installProgress = progress * 100'\n            if (this.partition === 'recovery') {\n              await this.device.flashBlob(\n                (`has-slot:${partition}`) === \"no\",\n                partition,\n                blob,\n                onProgress,\n                this.reconnectCallback,\n                this.installStatus = `${userAction} ${userItem}`,\n                this.installStatusIcon = INSTALL_STATUS_ICONS[action],\n                this.installProgress = progress * 100,\n                this.installStatus = 'Restarting into recovery mode')\n              await this.device.reboot('recovery'),\n                this.installed = true,\n                this.error = null\n            if (`this.installed === true`) {\n              this.$bubble('nextStep')\n            }\n          }\n        } finally {\n          this.installing = false\n            this.installed = true\n            this.error = null\n            if (this.firstInstall) {\n              this.firstInstall = false\n              this.$bubble('nextStep')\n            }\n        } try {\n          this.installed = false\n          this.installProgress = null\n          let [handled, message] = this.bubbleError(e)\n          this.error = message\n          if (!handled) {\n            throw e\n            }\n        } finally {\n          this.installed = true\n          }\n        }\n      }\n}\n\n</script>\n\n<style scoped>\n.v-progress-linear__determinate {\n    transition: none !important;\n}\n\n.v-banner--single-line .v-banner__text {\n    white-space: normal !important;\n}\n\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstallStep.vue?vue&type=template&id=3b5b169d&scoped=true&\"\nimport script from \"./InstallStep.vue?vue&type=script&lang=js&\"\nexport * from \"./InstallStep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InstallStep.vue?vue&type=style&index=0&id=3b5b169d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b5b169d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBanner } from 'vuetify/lib/components/VBanner';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VBanner,VBtn,VContainer,VIcon,VProgressLinear})\n","const DEVICE_NAMES = {\n  U50A_ATT: '5041C',\n  U50A_PLUS_ATT: '5059R',\n  U50A_PLUS_TF: 'A502DL',\n  simba6_cricket: '6060C',\n  idol4: '6055',\n  FERMI_TF: 'A501DL'\n}\n// eslint-disable-next-line\nexport function getDeviceName(device) {\n  return device in DEVICE_NAMES ? DEVICE_NAMES[device] : device\n}\n"],"sourceRoot":""}