(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-315faff0"],{"1f09":function(e,t,a){},"74d5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex justify-space-between flex-column flex-grow-1"},[a("div",{staticClass:"mt-n4"},[a("h4",{staticClass:"text-h6 pb-4"},[e._v(" Download a build ")]),a("div",{staticClass:"text-body-1"},[a("p",[e._v(" Pick a build to download and install. ")])])]),null===e.latestReleases?a("v-skeleton-loader",{attrs:{type:"article, actions"}}):void 0===e.latestReleases?a("div",{staticClass:"text-center"},[a("p",{staticClass:"text-h5 red--text text--darken-3"},[e._v(" Your device isn’t supported ")]),a("p",{staticClass:"text-body-1"},[e._v(" We only support these devices: ")]),a("v-list",[a("v-list-item-group",{attrs:{"active-class":"border",color:"blue"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.$root.$data.SUPPORTED_DEVICES,(function(t){return a("v-list-item",{key:t.model,attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(t.model)+" ")])],1)],1)})),1)],1)],1):a("div",{staticClass:"d-flex flex-wrap justify-start"},e._l(e.latestReleases,(function(t){return a("v-card",{key:t.url,staticClass:"sa-4 d-flex flex-wrap flex-column flex-grow-1",class:e.downloadingRelease===t?"v-card--selected":null,attrs:{disabled:e.downloading,"max-width":"16rem",ripple:"",color:e.downloadingRelease===t?"grey lighten-4":null},on:{click:function(a){return e.download(t)}}},[a("v-card-title",[e._v(" "+e._s(t.version)+" ")]),a("img",{staticClass:"d-inline justify-space-between",attrs:{height:"80px",width:"80px",src:t.thumnail}})],1)})),1),a("div",[e.downloadProgress>=100?a("v-banner",{attrs:{"single-line":"",outlined:"",rounded:""}},[a("v-icon",{attrs:{color:"green darken-3"}},[e._v(" mdi-check ")]),a("div",{staticClass:"my-4"},[a("span",{staticClass:"text-body-1 green--text text--darken-3"},[e._v(" Downloaded "+e._s(e.$root.$data.OS_NAME)+" "+e._s(e.$root.$data.release.version)+" "+e._s(e.$root.$data.release.variant)+" ")])])],1):null!==e.downloadProgress?a("v-banner",{staticClass:"mt-8 pt-1",attrs:{"single-line":"",outlined:"",rounded:""}},[a("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-download ")]),a("span",{staticClass:"text-body-1"},[e._v(" Downloading… ")]),a("v-progress-linear",{staticClass:"my-3",attrs:{"buffer-value":"0",value:e.downloadProgress,stream:""}})],1):e._e(),a("v-banner",{staticClass:"mt-8",attrs:{"else-if":"error","single-line":"",outlined:"",rounded:""}},[a("v-icon",{attrs:{color:"red darken-3"}},[e._v(" mdi-close ")]),a("div",{staticClass:"my-4"},[a("span",{staticClass:"text-body-1 red--text text--darken-3"},[e._v(" "+e._s(e.error)+" ")])])],1)],1),a("div",{staticClass:"d-flex justify-space-between flex-row-reverse"},[a("v-btn",{attrs:{disabled:null===e.$root.$data.zipBlob,color:"outlined"},on:{click:function(t){return e.$bubble("nextStep")}}},[e._v(" Next "),a("v-icon",{attrs:{dark:"",right:""}},[e._v(" mdi-arrow-right ")])],1),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$bubble("prevStep")}}},[e._v(" Back ")])],1)],1)},n=[],r=a("3835"),i=a("1da1"),o=(a("96cf"),a("d3b7"),a("99af"),{name:"DownloadStep",props:["device","blobStore","active"],data:function(){return{releaseIndex:void 0,latestReleases:null,downloadProgress:null,downloadingRelease:null,downloading:!1,firstDownload:!0,error:null}},watch:{active:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(this.saEvent("step_download"),void 0!==this.releaseIndex){e.next=9;break}return e.next=5,fetch("/releases/index.json");case 5:return a=e.sent,e.next=8,a.json();case 8:this.releaseIndex=e.sent;case 9:this.latestReleases=this.releaseIndex.latest[this.$root.$data.product];case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},methods:{errorRetry:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.download(e.$root.$data.release);case 2:case"end":return t.stop()}}),t)})))()},download:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,i,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$root.$data.release=e,t.downloadProgress=0,t.downloading=!0,t.downloadingRelease=e,a.prev=4,t.saEvent("download_build__".concat(t.$root.$data.product,"_").concat(e.version,"_").concat(e.variant)),a.next=8,t.blobStore.init();case 8:return a.next=10,t.blobStore.download(e.url,(function(e){t.downloadProgress=100*e}));case 10:s=a.sent,t.downloadProgress=100,t.$root.$data.zipBlob=s,t.error=null,t.firstDownload&&(t.firstDownload=!1,t.$bubble("nextStep")),a.next=24;break;case 17:if(a.prev=17,a.t0=a["catch"](4),t.downloadProgress=null,n=t.bubbleError(a.t0),i=Object(r["a"])(n,2),o=i[0],l=i[1],t.error=l,o){a.next=24;break}throw a.t0;case 24:return a.prev=24,t.downloading=!1,a.finish(24);case 27:case"end":return a.stop()}}),a,null,[[4,17,24,27]])})))()}}}),l=o,d=(a("e688"),a("0c7c")),c=a("6544"),u=a.n(c),p=a("e4e5"),v=a("8336"),h=a("b0af"),b=a("99d9"),g=a("a523"),f=a("132d"),m=a("8860"),w=a("da13"),x=a("5d23"),y=a("1baa"),_=a("8e36"),k=(a("1f09"),a("c995")),S=a("24b2"),$=a("7560"),C=a("58df"),B=a("80d2"),L=Object(C["a"])(k["a"],S["a"],$["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:()=>({})}},computed:{attrs(){return this.isLoading?this.boilerplate?{}:{"aria-busy":!0,"aria-live":"polite",role:"alert",...this.$attrs}:this.$attrs},classes(){return{"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile,...this.themeClasses,...this.elevationClasses}},isLoading(){return!("default"in this.$scopedSlots)||this.loading},rootTypes(){return{actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text",...this.types}}},methods:{genBone(e,t){return this.$createElement("div",{staticClass:`v-skeleton-loader__${e} v-skeleton-loader__bone`},t)},genBones(e){const[t,a]=e.split("@"),s=()=>this.genStructure(t);return Array.from({length:a}).map(s)},genStructure(e){let t=[];e=e||this.type||"";const a=this.rootTypes[e]||"";if(e===a);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);a.indexOf(",")>-1?t=this.mapBones(a):a.indexOf("@")>-1?t=this.genBones(a):a&&t.push(this.genStructure(a))}return[this.genBone(e,t)]},genSkeleton(){const e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(B["m"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave(e){e.style.setProperty("display","none","important")},resetStyles(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}}),R=Object(d["a"])(l,s,n,!1,null,"173b1286",null);t["default"]=R.exports;u()(R,{VBanner:p["a"],VBtn:v["a"],VCard:h["a"],VCardTitle:b["d"],VContainer:g["a"],VIcon:f["a"],VList:m["a"],VListItem:w["a"],VListItemContent:x["a"],VListItemGroup:y["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VProgressLinear:_["a"],VSkeletonLoader:L})},e688:function(e,t,a){"use strict";a("ed89")},ed89:function(e,t,a){}}]);
//# sourceMappingURL=chunk-315faff0.fa9b8f76.js.map